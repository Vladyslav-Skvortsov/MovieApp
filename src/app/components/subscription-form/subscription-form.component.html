<p-button
	type="button"
	label="Unsubscribe"
	(click)="onUnsubscribe()"
></p-button>
<div class="subscription-form-container">
	<form [formGroup]="subscriptionForm" (ngSubmit)="onSubmit()">
		<div class="p-field">
			<label for="name">Name</label>
			<input id="name" pInputText formControlName="name" />
			<p-message
				*ngIf="
					subscriptionForm.get('name')?.invalid &&
					subscriptionForm.get('name')?.touched
				"
				severity="error"
				text="Name is required"
			></p-message>
		</div>

		<div class="p-field">
			<label for="email">Email</label>
			<input id="email" pInputText formControlName="email" />
			<p-message
				*ngIf="
					subscriptionForm.get('email')?.invalid &&
					subscriptionForm.get('email')?.touched
				"
				severity="error"
				text="Valid email is required"
			></p-message>
		</div>

		<div class="p-field">
			<label for="birthdate">Birthdate</label>
			<p-calendar formControlName="birthdate" [showIcon]="true"></p-calendar>
		</div>

		<div class="p-field">
			<label for="genres">Favorite Genres</label>
			<p-multiSelect
				id="genres"
				[options]="genres"
				formControlName="genres"
				placeholder="Select Genres"
			></p-multiSelect>
		</div>

		<div class="p-field-checkbox">
			<p-checkbox
				formControlName="agree"
				binary="true"
				label="Agree to data processing"
			></p-checkbox>
		</div>

		<p-button
			type="submit"
			label="Subscribe"
			[disabled]="subscriptionForm.invalid"
		></p-button>
	</form>
</div>
